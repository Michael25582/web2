"use strict";require("dotenv").config();var cors=require("cors"),Telegram=require("node-telegram-bot-api"),TelegramToken="1413925001:AAG07uABLRu07s1pPvmAYUKY0x5adPd_wVw",TelegramBot=new Telegram(TelegramToken,{polling:!0}),fs=require("fs"),express=require("express"),app=express();app.use(cors({origin:"*",optionsSuccessStatus:200}));var port=process.env.PORT||80,expressWs=require("express-ws")(app),bodyParser=require("body-parser"),morgan=require("morgan"),configDB=require("./config/database"),mongoose=require("mongoose");require("mongoose-long")(mongoose),mongoose.set("useFindAndModify",!1),mongoose.set("useCreateIndex",!0),mongoose.connect(configDB.url,configDB.options),require("./config/admin"),app.use(bodyParser.json()),app.use(bodyParser.urlencoded({extended:!1})),app.use(morgan("combined")),app.set("view engine","ejs"),app.set("views","./views"),app.use(express.static("public"));var redT=expressWs.getWss();(process.redT=redT).telegram=TelegramBot,global.redT=redT,global.userOnline=0,require("./app/Helpers/socketUser")(redT),require("./routerHttp")(app,redT),require("./routerCMS")(app,redT),require("./routerSocket")(app,redT),require("./app/Cron/taixiu")(redT),require("./app/Cron/baucua")(redT),require("./config/cron")(),require("./app/Telegram/Telegram")(redT),app.listen(port,function(){console.log("Server listen on port ",port)});
//# sourceMappingURL=server.min.js.map
